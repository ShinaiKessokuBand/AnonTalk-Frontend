# 接口文档



## 获取用户信息 

名称：`` getAllUsers ``

描述：管理员模式获取用户信息

**请求 URL**：`/api/users`

**请求方法**：`GET`

**请求参数**：无

## 获取当前在线用户数量

名称：`` getOnlineUserCount ``

**描述**：管理员获取当前在线用户的数量。

**请求 URL**：`/api/users/online`

**请求方法**：`GET`

**请求参数**：无

## 禁用用户

名称： `` disableUser``

**描述**：管理员禁用指定用户。

**请求 URL**：`/api/users/{userId}`

**请求方法**：`DELETE`

**请求参数**：

- 路径参数:`userId` (Integer)：用户的唯一标识符。

## 导出聊天记录

名称：`` exportChatHistory`

**描述**：管理员导出所有聊天记录。

**请求 URL**：`/api/chat/export`

**请求方法**：`GET`

**请求参数**：无



## 注册新用户

名称：`` createUser`` 

描述：注册新用户

**请求 URL**：`/api/register`

**请求方法**：`POST`

**请求参数**：

- 请求体参数

  `phone` (String)：用户的手机号

  `username` (String)：用户的用户名

  `password` (String)：用户的密码

## 用户登录

名称：``loginUser ``

描述：用户登录

**请求 URL**：`/api/login`

**请求方法**：`POST`

**请求参数**：

- 请求体参数

  `username` (String)：用户的用户名

  `password` (String)：用户的密码

## 更新用户信息

名称：``updateUser``

描述：用户设置界面更新个人信息

**请求 URL**：`/api/users/{userId}`

**请求方法**：`PUT`

**请求参数**：

- **路径参数**：

  [userId](vscode-file://vscode-app/d:/Program Files/Microsoft VS Code/resources/app/out/vs/code/electron-sandbox/workbench/workbench.html) (Integer)：用户的唯一标识符

- **请求体参数**：

  `username` (String)：用户名

  `gender` (String)：用户的性别

  `hobbies` (String)：用户的爱好

  `password` (String)：用户的新密码

  `phone` (String)：用户的手机号

## 普通匹配用户

名称：`` matchNormalUser ``

描述：普通用户匹配聊天接口

**请求 URL**：`/api/match?type=normal`

**请求方法**：`GET`

**请求参数**：

- 查询参数：`type` (String)：用户类型，固定为 `normal`。

## 会员匹配用户

名称：`` matchVipUser ``

描述：会员用户匹配聊天接口

**请求 URL**：`/api/match?type=vip`

**请求方法**：`GET`

**请求参数**：

- 查询参数：`type` (String)：用户类型，为 `vip`。

## 创建帖子

名称：`` createPost`

描述：用户创建新帖子

**请求 URL**：`/api/posts`

**请求方法**：`POST`

**请求参数**：

- 请求体参数

  `title` (String)：帖子的标题。

  `content` (String)：帖子的内容。

  [username](vscode-file://vscode-app/d:/Program Files/Microsoft VS Code/resources/app/out/vs/code/electron-sandbox/workbench/workbench.html) (String)：发帖用户的用户名。

## 获取帖子信息

名称：`` getAllPosts`

描述：交友广场显示帖子用，显示出标题，作者，帖子id和部分内容

**请求 URL**：`/api/posts`

**请求方法**：`GET`

**请求参数**：无

## 查看帖子详细信息

名称：`` getPostById`

描述：点击帖子后进入帖子详情页面

**请求 URL**：`/api/posts/{postId}`

**请求方法**：`GET`

**请求参数**：

- 路径参数

  [postId](vscode-file://vscode-app/d:/Program Files/Microsoft VS Code/resources/app/out/vs/code/electron-sandbox/workbench/workbench.html) (String)：帖子的唯一标识符。

## 点赞

名称：`` likePost`

**描述**：点赞指定帖子。

**请求 URL**：`/api/posts/{postId}/like`

**请求方法**：`POST`

**请求参数**：

- 路径参数: [postId](vscode-file://vscode-app/d:/Program Files/Microsoft VS Code/resources/app/out/vs/code/electron-sandbox/workbench/workbench.html) (String)：帖子的唯一标识符。
- 查询参数: [username](vscode-file://vscode-app/d:/Program Files/Microsoft VS Code/resources/app/out/vs/code/electron-sandbox/workbench/workbench.html) (String)：点赞用户的用户名。

## 评论

名称：`` commentPost`

描述：评论帖子

**请求 URL**：`/api/posts/{postId}/comment`

**请求方法**：`POST`

**请求参数**：

- 路径参数： [postId](vscode-file://vscode-app/d:/Program Files/Microsoft VS Code/resources/app/out/vs/code/electron-sandbox/workbench/workbench.html) (String)：帖子的唯一标识符。

- 请求体参数：[username](vscode-file://vscode-app/d:/Program Files/Microsoft VS Code/resources/app/out/vs/code/electron-sandbox/workbench/workbench.html) (String)：评论用户的用户名。

  ​			`content` (String)：评论内容。

## 搜索历史聊天记录

名称：`` getChatHistory`

描述：用户查看聊天记录

**请求 URL**：`/api/messages/{chatId}`

**请求方法**：`GET`

**请求参数**：

- 路径参数：[chatId](vscode-file://vscode-app/d:/Program Files/Microsoft VS Code/resources/app/out/vs/code/electron-sandbox/workbench/workbench.html) (String)：聊天的唯一标识符。

